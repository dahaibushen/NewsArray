1.通知的原理
1.1 通知跟KVO
ios 9 开始，不用在VC释放的时候使用移除操作了
//    [[NSNotificationCenter defaultCenter] addObserver:  selector: name: object:];
2.
#NSNotificationQueue
通知队列通常以先进先出（FIFO）顺序维护通
3.NSPostingStyle 发送通知的方式
typedef NS_ENUM(NSUInteger, NSPostingStyle) {
NSPostWhenIdle = 1,
NSPostASAP = 2,
NSPostNow = 3  
};
NSPostWhenIdle：空闲发送通知 当运行循环处于等待或空闲状态时，发送通知，对于不重要的通知可以使用。
NSPostASAP：尽快发送通知 当前运行循环迭代完成时，通知将会被发送，有点类似没有延迟的定时器。
NSPostNow ：同步发送通知 如果不使用合并通知 和postNotification:一样是同步通知。
4.合并通知
NSNotificationCoalescing也包括三种类型：
typedef NS_OPTIONS(NSUInteger, NSNotificationCoalescing) {
NSNotificationNoCoalescing = 0,
NSNotificationCoalescingOnName = 1,
NSNotificationCoalescingOnSender = 2
};
NSNotificationNoCoalescing：不合并通知。
NSNotificationCoalescingOnName：合并相同名称的通知。
NSNotificationCoalescingOnSender：合并相同通知和同一对象的通知。
通过合并我们可以用来保证相同的通知只被发送一次。
forModes:(nullable NSArray<NSRunLoopMode> *)modes可以使用不同的NSRunLoopMode配合来发送通知，可以看出实际上NSNotificationQueue与RunLoop的机制以及运行循环有关系，通过NSNotificationQueue队列来发送的通知和关联的RunLoop运行机制来进行的。

作者：Vein_
链接：https://www.jianshu.com/p/051a9a3af1a4
來源：简书
简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。

